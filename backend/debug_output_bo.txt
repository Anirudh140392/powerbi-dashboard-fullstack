[dotenv@17.2.3] injecting env (5) from .env -- tip: ⚙️  load multiple .env files with { path: ['.env.local', '.env'] }
Starting Brands Overview Debug...
Database connected.
Calling getSummaryMetrics with: {
  months: 1,
  brand: 'All',
  platform: 'Zepto',
  location: 'All',
  brandsOverviewPlatform: 'Zepto',
  brandsOverviewCategory: 'All'
}
Processing Watch Tower request with filters: {
  months: 1,
  brand: 'All',
  platform: 'Zepto',
  location: 'All',
  brandsOverviewPlatform: 'Zepto',
  brandsOverviewCategory: 'All'
}
Date Range: 2025-11-09 to 2025-12-09
Calculating Month Overview for Platform: Blinkit
Error in watchTowerService: Error
    at Query.run (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)
    at async MySQLQueryInterface.select (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async rb_kw.findAll (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getSummaryMetrics (file:///home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/src/services/watchTowerService.js:992:34)
    at async runDebug (file:///home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/debug_brands_overview.js:26:24) {
  name: 'SequelizeDatabaseError',
  parent: Error: Unknown column 'id' in 'field list'
      at Packet.asError (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/base/connection.js:477:34)
      at PacketParser.onPacket (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:508:28)
      at addChunk (node:internal/streams/readable:559:12)
      at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)
      at Readable.push (node:internal/streams/readable:390:5) {
    code: 'ER_BAD_FIELD_ERROR',
    errno: 1054,
    sqlState: '42S22',
    sqlMessage: "Unknown column 'id' in 'field list'",
    sql: "SELECT `brand_name`, COUNT(`id`) AS `count` FROM `rb_kw` AS `rb_kw` WHERE `rb_kw`.`kw_crawl_date` BETWEEN '2025-11-08 18:30:00' AND '2025-12-09 18:29:59' AND LOWER(`platform_name`) = 'zepto' GROUP BY `brand_name`;",
    parameters: undefined
  },
  original: Error: Unknown column 'id' in 'field list'
      at Packet.asError (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/base/connection.js:477:34)
      at PacketParser.onPacket (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:508:28)
      at addChunk (node:internal/streams/readable:559:12)
      at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)
      at Readable.push (node:internal/streams/readable:390:5) {
    code: 'ER_BAD_FIELD_ERROR',
    errno: 1054,
    sqlState: '42S22',
    sqlMessage: "Unknown column 'id' in 'field list'",
    sql: "SELECT `brand_name`, COUNT(`id`) AS `count` FROM `rb_kw` AS `rb_kw` WHERE `rb_kw`.`kw_crawl_date` BETWEEN '2025-11-08 18:30:00' AND '2025-12-09 18:29:59' AND LOWER(`platform_name`) = 'zepto' GROUP BY `brand_name`;",
    parameters: undefined
  },
  sql: "SELECT `brand_name`, COUNT(`id`) AS `count` FROM `rb_kw` AS `rb_kw` WHERE `rb_kw`.`kw_crawl_date` BETWEEN '2025-11-08 18:30:00' AND '2025-12-09 18:29:59' AND LOWER(`platform_name`) = 'zepto' GROUP BY `brand_name`;",
  parameters: {}
}
Error: Error
    at Query.run (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/sequelize/lib/dialects/mysql/query.js:52:25)
    at /home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:103:5)
    at async MySQLQueryInterface.select (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async rb_kw.findAll (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getSummaryMetrics (file:///home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/src/services/watchTowerService.js:992:34)
    at async runDebug (file:///home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/debug_brands_overview.js:26:24) {
  name: 'SequelizeDatabaseError',
  parent: Error: Unknown column 'id' in 'field list'
      at Packet.asError (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/base/connection.js:477:34)
      at PacketParser.onPacket (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:508:28)
      at addChunk (node:internal/streams/readable:559:12)
      at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)
      at Readable.push (node:internal/streams/readable:390:5) {
    code: 'ER_BAD_FIELD_ERROR',
    errno: 1054,
    sqlState: '42S22',
    sqlMessage: "Unknown column 'id' in 'field list'",
    sql: "SELECT `brand_name`, COUNT(`id`) AS `count` FROM `rb_kw` AS `rb_kw` WHERE `rb_kw`.`kw_crawl_date` BETWEEN '2025-11-08 18:30:00' AND '2025-12-09 18:29:59' AND LOWER(`platform_name`) = 'zepto' GROUP BY `brand_name`;",
    parameters: undefined
  },
  original: Error: Unknown column 'id' in 'field list'
      at Packet.asError (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/packets/packet.js:740:17)
      at Query.execute (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/commands/command.js:29:26)
      at Connection.handlePacket (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/base/connection.js:477:34)
      at PacketParser.onPacket (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/base/connection.js:93:12)
      at PacketParser.executeStart (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/packet_parser.js:75:16)
      at Socket.<anonymous> (/home/asus/Documents/Trailytics/Backend-Frontend/powerbi-dashboard-fullstack/backend/node_modules/mysql2/lib/base/connection.js:100:25)
      at Socket.emit (node:events:508:28)
      at addChunk (node:internal/streams/readable:559:12)
      at readableAddChunkPushByteMode (node:internal/streams/readable:510:3)
      at Readable.push (node:internal/streams/readable:390:5) {
    code: 'ER_BAD_FIELD_ERROR',
    errno: 1054,
    sqlState: '42S22',
    sqlMessage: "Unknown column 'id' in 'field list'",
    sql: "SELECT `brand_name`, COUNT(`id`) AS `count` FROM `rb_kw` AS `rb_kw` WHERE `rb_kw`.`kw_crawl_date` BETWEEN '2025-11-08 18:30:00' AND '2025-12-09 18:29:59' AND LOWER(`platform_name`) = 'zepto' GROUP BY `brand_name`;",
    parameters: undefined
  },
  sql: "SELECT `brand_name`, COUNT(`id`) AS `count` FROM `rb_kw` AS `rb_kw` WHERE `rb_kw`.`kw_crawl_date` BETWEEN '2025-11-08 18:30:00' AND '2025-12-09 18:29:59' AND LOWER(`platform_name`) = 'zepto' GROUP BY `brand_name`;",
  parameters: {}
}
